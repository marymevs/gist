<section class="admin">
  <h1>Admin</h1>
  <p class="admin__subtitle">
    Drop today’s lyric and your analysis.
  </p>

  <form (ngSubmit)="save()" #form="ngForm" class="admin__form">
    <label>
      Date key (YYYY-MM-DD)
      <input
        name="dateKey"
        [(ngModel)]="dateKey"
        required
      />
    </label>

    <label>
      Song title
      <input
        name="songTitle"
        [(ngModel)]="songTitle"
        required
      />
    </label>

    <label>
      Album title (optional)
      <input
        name="albumTitle"
        [(ngModel)]="albumTitle"
      />
    </label>

    <label>
      Lyric
      <textarea
        name="lyric"
        [(ngModel)]="lyric"
        rows="3"
        required
      ></textarea>
    </label>

    <label>
      Philosophical breakdown
      <textarea
        name="analysis"
        [(ngModel)]="analysis"
        rows="6"
        required
      ></textarea>
    </label>

    <button type="submit" [disabled]="saving || !form.form.valid">
      {{ saving ? 'Saving…' : 'Save' }}
    </button>

    <p class="admin__success" *ngIf="successMessage">
      {{ successMessage }}
    </p>
    <p class="admin__error" *ngIf="errorMessage">
      {{ errorMessage }}
    </p>
  </form>
</section>
